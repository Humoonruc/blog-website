<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Humoon" />

<meta name="date" content="2022-04-24" />

<title>Date</title>

<script src="libs/header-attrs-2.13/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/united.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="libs/navigation-1.1/tabsets.js"></script>
<script src="libs/navigation-1.1/codefolding.js"></script>
<script src="libs/navigation-1.1/sourceembed.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; } /* Alert */
code span.an { color: #008000; } /* Annotation */
code span.at { } /* Attribute */
code span.bu { } /* BuiltIn */
code span.cf { color: #0000ff; } /* ControlFlow */
code span.ch { color: #008080; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #008000; } /* Comment */
code span.cv { color: #008000; } /* CommentVar */
code span.do { color: #008000; } /* Documentation */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.im { } /* Import */
code span.in { color: #008000; } /* Information */
code span.kw { color: #0000ff; } /* Keyword */
code span.op { } /* Operator */
code span.ot { color: #ff4000; } /* Other */
code span.pp { color: #ff4000; } /* Preprocessor */
code span.sc { color: #008080; } /* SpecialChar */
code span.ss { color: #008080; } /* SpecialString */
code span.st { color: #008080; } /* String */
code span.va { } /* Variable */
code span.vs { color: #008080; } /* VerbatimString */
code span.wa { color: #008000; font-weight: bold; } /* Warning */

.sourceCode .row {
  width: 100%;
}
.sourceCode {
  overflow-x: auto;
}
.code-folding-btn {
  margin-right: -30px;
}
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>


<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>


<link rel="stylesheet" href="../css/style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Date</h1>
<h4 class="author">Humoon</h4>
<h4 class="date">2022-04-24</h4>

</div>


<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(nycflights13)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hms)</span></code></pre></div>
<p><strong>R 中的日期-时间和因子一样，是一种特殊的向量。</strong></p>
<div id="基础包" class="section level2">
<h2>基础包</h2>
<p>获取系统日期：<code>Sys.Date()</code>
获取系统时间：<code>Sys.time()</code></p>
<p>格式化时间</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>(<span class="at">m =</span> <span class="fu">Sys.Date</span>())</span></code></pre></div>
<pre><code>#&gt; [1] &quot;2022-04-24&quot;</code></pre>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">format</span>(m, <span class="at">format =</span> <span class="st">&quot;%B %d %Y&quot;</span>)  <span class="co"># 改成月日年的格式</span></span></code></pre></div>
<pre><code>#&gt; [1] &quot;四月 24 2022&quot;</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">format</span>(m, <span class="at">format =</span> <span class="st">&quot;%B %d %Y %A&quot;</span>)  <span class="co"># 加入星期信息</span></span></code></pre></div>
<pre><code>#&gt; [1] &quot;四月 24 2022 星期日&quot;</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">format</span>(m, <span class="at">format =</span> <span class="st">&quot;%B&quot;</span>)  <span class="co"># 只提取出月份信息</span></span></code></pre></div>
<pre><code>#&gt; [1] &quot;四月&quot;</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">format</span>(<span class="fu">Sys.time</span>(), <span class="at">format =</span> <span class="st">&quot;%Y/%B/%a %H:%M:%S&quot;</span>)  <span class="co"># 提取部分时间信息</span></span></code></pre></div>
<pre><code>#&gt; [1] &quot;2022/四月/周日 12:02:56&quot;</code></pre>
</div>
<div id="使用-lubricate-包处理日期和时间" class="section level2">
<h2>使用 lubricate 包处理日期和时间</h2>
<p><a href="../pdf/cheatsheet-lubridate.pdf"><strong>lubridate
cheatsheet.pdf</strong></a></p>
<object data="../pdf/cheatsheet-lubridate.pdf" type="application/pdf" width="100%" height="100%">
</object>
<p>表示日期或时间的数据有 3 种类型：<br />
- 日期：在 tibble 中显示为<code>&lt;date&gt;</code><br />
- 时间：一天中的某个时刻，在 tibble
中显示为<code>&lt;time&gt;</code><br />
- 日期时间：可以唯一标识某个时刻（通常精确到秒）的日期加时间，在 tibble
中显示为<code>&lt;dttm&gt;</code></p>
<p>要想得到当前日期或当前日期时间，你可以使用 <code>today()</code> 或
<code>now()</code> 函数：</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">today</span>()</span></code></pre></div>
<pre><code>#&gt; [1] &quot;2022-04-24&quot;</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">now</span>()</span></code></pre></div>
<pre><code>#&gt; [1] &quot;2022-04-24 12:02:57 CST&quot;</code></pre>
<div id="创建日期或时间" class="section level3">
<h3>创建日期或时间</h3>
<div id="通过字符串创建" class="section level4">
<h4>通过字符串创建</h4>
<p><code>ymd()</code><strong>系列函数</strong>是从字符串创建单个日期时间对象的最简方法，也可以接受不带引号的数值。它不需要指定参数，便能自动处理标点和月份、星期的英文全称、缩写。</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">20090101</span>, <span class="st">&quot;2009-01-02&quot;</span>, <span class="st">&quot;2009 01 03&quot;</span>, <span class="st">&quot;2009-1-4&quot;</span>, <span class="st">&quot;2009-1,5&quot;</span>, <span class="st">&quot;Created on 2009 1 6&quot;</span>, <span class="st">&quot;200901 !!! 07&quot;</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd</span>(x)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;2009-01-01&quot; &quot;2009-01-02&quot; &quot;2009-01-03&quot; &quot;2009-01-04&quot; &quot;2009-01-05&quot;
#&gt; [6] &quot;2009-01-06&quot; &quot;2009-01-07&quot;</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(x)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mdy</span>(<span class="st">&quot;January 31st, 2017&quot;</span>)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;2017-01-31&quot;</code></pre>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dmy</span>(<span class="st">&quot;31-Jan-2017&quot;</span>)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;2017-01-31&quot;</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd</span>(<span class="dv">20170131</span>)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;2017-01-31&quot;</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd_hms</span>(<span class="st">&quot;2017-01-31 20:11:59&quot;</span>) <span class="co"># 精确到秒的时间戳</span></span></code></pre></div>
<pre><code>#&gt; [1] &quot;2017-01-31 20:11:59 UTC&quot;</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mdy_hm</span>(<span class="st">&quot;01/31/2017 08:01&quot;</span>)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;2017-01-31 08:01:00 UTC&quot;</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 通过添加一个时区参数，可以将一个日期强制转换为日期时间：</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd</span>(<span class="dv">20170131</span>, <span class="at">tz =</span> <span class="st">&quot;UTC&quot;</span>)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;2017-01-31 UTC&quot;</code></pre>
</div>
<div id="通过各个成分创建" class="section level4">
<h4>通过各个成分创建</h4>
<p>使用 <code>make_date()</code> 函数创建日期，使用
<code>make_datetime()</code> 函数创建日期时间</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">%&gt;%</span> </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, month, day, hour, minute) <span class="sc">%&gt;%</span> </span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">departure =</span> <span class="fu">make_datetime</span>(year, month, day, hour, minute)</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>#&gt; # A tibble: 336,776 × 6
#&gt;     year month   day  hour minute departure          
#&gt;    &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dttm&gt;             
#&gt;  1  2013     1     1     5     15 2013-01-01 05:15:00
#&gt;  2  2013     1     1     5     29 2013-01-01 05:29:00
#&gt;  3  2013     1     1     5     40 2013-01-01 05:40:00
#&gt;  4  2013     1     1     5     45 2013-01-01 05:45:00
#&gt;  5  2013     1     1     6      0 2013-01-01 06:00:00
#&gt;  6  2013     1     1     5     58 2013-01-01 05:58:00
#&gt;  7  2013     1     1     6      0 2013-01-01 06:00:00
#&gt;  8  2013     1     1     6      0 2013-01-01 06:00:00
#&gt;  9  2013     1     1     6      0 2013-01-01 06:00:00
#&gt; 10  2013     1     1     6      0 2013-01-01 06:00:00
#&gt; # … with 336,766 more rows</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="do">## flights 数据集中的某些时间是将小时和分钟数简单地排列在一起的，需要将其分离</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 自定义分离函数</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>make_datetime_100 <span class="ot">&lt;-</span> <span class="cf">function</span>(year, month, day, time) {</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">make_datetime</span>(year, month, day, time <span class="sc">%/%</span> <span class="dv">100</span>, time <span class="sc">%%</span> <span class="dv">100</span>)</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 应用分离函数</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>flights_dt <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> </span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(dep_time), <span class="sc">!</span><span class="fu">is.na</span>(arr_time)) <span class="sc">%&gt;%</span> </span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">dep_time =</span> <span class="fu">make_datetime_100</span>(year, month, day, dep_time),</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">arr_time =</span> <span class="fu">make_datetime_100</span>(year, month, day, arr_time),</span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">sched_dep_time =</span> <span class="fu">make_datetime_100</span>(year, month, day, sched_dep_time),</span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">sched_arr_time =</span> <span class="fu">make_datetime_100</span>(year, month, day, sched_arr_time)) <span class="sc">%&gt;%</span> </span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(origin, dest, <span class="fu">ends_with</span>(<span class="st">&quot;delay&quot;</span>), <span class="fu">ends_with</span>(<span class="st">&quot;time&quot;</span>))</span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>flights_dt</span></code></pre></div>
<pre><code>#&gt; # A tibble: 328,063 × 9
#&gt;    origin dest  dep_delay arr_delay dep_time            sched_dep_time     
#&gt;    &lt;chr&gt;  &lt;chr&gt;     &lt;dbl&gt;     &lt;dbl&gt; &lt;dttm&gt;              &lt;dttm&gt;             
#&gt;  1 EWR    IAH           2        11 2013-01-01 05:17:00 2013-01-01 05:15:00
#&gt;  2 LGA    IAH           4        20 2013-01-01 05:33:00 2013-01-01 05:29:00
#&gt;  3 JFK    MIA           2        33 2013-01-01 05:42:00 2013-01-01 05:40:00
#&gt;  4 JFK    BQN          -1       -18 2013-01-01 05:44:00 2013-01-01 05:45:00
#&gt;  5 LGA    ATL          -6       -25 2013-01-01 05:54:00 2013-01-01 06:00:00
#&gt;  6 EWR    ORD          -4        12 2013-01-01 05:54:00 2013-01-01 05:58:00
#&gt;  7 EWR    FLL          -5        19 2013-01-01 05:55:00 2013-01-01 06:00:00
#&gt;  8 LGA    IAD          -3       -14 2013-01-01 05:57:00 2013-01-01 06:00:00
#&gt;  9 JFK    MCO          -3        -8 2013-01-01 05:57:00 2013-01-01 06:00:00
#&gt; 10 LGA    ORD          -2         8 2013-01-01 05:58:00 2013-01-01 06:00:00
#&gt; # … with 328,053 more rows, and 3 more variables: arr_time &lt;dttm&gt;,
#&gt; #   sched_arr_time &lt;dttm&gt;, air_time &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 以天为宽度汇总起飞航班的频数</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>flights_dt <span class="sc">%&gt;%</span> </span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(dep_time)) <span class="sc">+</span> </span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_freqpoly</span>(<span class="at">binwidth =</span> <span class="dv">86400</span>) </span></code></pre></div>
<p><img src="../img/unnamed-chunk-5-1.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 86400秒 = 1天，由于横轴是日期时间型数据，1代表1秒</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 以10分钟为宽度，汇总2013年1月1日起飞航班的频数</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>flights_dt <span class="sc">%&gt;%</span> </span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(dep_time <span class="sc">&lt;</span> <span class="fu">ymd</span>(<span class="dv">20130102</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(dep_time)) <span class="sc">+</span> </span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_freqpoly</span>(<span class="at">binwidth =</span> <span class="dv">600</span>) <span class="co"># 600秒 = 10分钟</span></span></code></pre></div>
<p><img src="../img/unnamed-chunk-5-2.png" width="90%" style="display: block; margin: auto;" /></p>
</div>
<div id="通过其他数据类型创建" class="section level4">
<h4>通过其他数据类型创建</h4>
<p><code>as_datetime()</code> 和 <code>as_date()</code>
在日期和日期时间型数据之间切换</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as_datetime</span>(<span class="fu">today</span>())</span></code></pre></div>
<pre><code>#&gt; [1] &quot;2022-04-24 UTC&quot;</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as_date</span>(<span class="fu">now</span>())</span></code></pre></div>
<pre><code>#&gt; [1] &quot;2022-04-24&quot;</code></pre>
<p><strong>可以用相对偏移量表示时间，基准为1970年1月1日0时。</strong></p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as_date</span>(<span class="dv">365</span> <span class="sc">*</span> <span class="dv">10</span> <span class="sc">+</span> <span class="dv">2</span>) <span class="co"># 基准时间之后10年，考虑到两个闰年加两天</span></span></code></pre></div>
<pre><code>#&gt; [1] &quot;1980-01-01&quot;</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as_datetime</span>(<span class="dv">60</span> <span class="sc">*</span> <span class="dv">60</span> <span class="sc">*</span> <span class="dv">10</span>) <span class="co"># 基准时间滞后10个小时</span></span></code></pre></div>
<pre><code>#&gt; [1] &quot;1970-01-01 10:00:00 UTC&quot;</code></pre>
</div>
</div>
<div id="日期和时间成分" class="section level3">
<h3>日期和时间成分</h3>
<div id="获取成分" class="section level4">
<h4>获取成分</h4>
<p>如果想要提取出日期中的独立成分，可以使用以下访问器函数： year()、
month()、 mday()（一个月中的第几天）、 yday()（一年中的第几天）、
wday()（一周中的第几天）、 hour()、minute() 和 second()：</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>datetime <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(<span class="st">&quot;2016-07-08 12:34:56&quot;</span>)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="fu">year</span>(datetime)</span></code></pre></div>
<pre><code>#&gt; [1] 2016</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">month</span>(datetime)</span></code></pre></div>
<pre><code>#&gt; [1] 7</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mday</span>(datetime)</span></code></pre></div>
<pre><code>#&gt; [1] 8</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">yday</span>(datetime)</span></code></pre></div>
<pre><code>#&gt; [1] 190</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wday</span>(datetime)</span></code></pre></div>
<pre><code>#&gt; [1] 6</code></pre>
<p>对于 month() 和 wday() 函数，你可以设置 label = TRUE
来返回月份名称和星期数的缩写，还可以设置 abbr = FALSE 来返回全名：</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 注意，lubricate中的这两个函数会被data.table包的同名函数覆盖</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 因此，用到这个功能的时候，不能用data.table包</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="fu">month</span>(datetime, <span class="at">label =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>#&gt; [1] 7月
#&gt; 12 Levels: 1月 &lt; 2月 &lt; 3月 &lt; 4月 &lt; 5月 &lt; 6月 &lt; 7月 &lt; 8月 &lt; 9月 &lt; ... &lt; 12月</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wday</span>(datetime, <span class="at">label =</span> <span class="cn">TRUE</span>, <span class="at">abbr =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>#&gt; [1] 星期五
#&gt; Levels: 星期日 &lt; 星期一 &lt; 星期二 &lt; 星期三 &lt; 星期四 &lt; 星期五 &lt; 星期六</code></pre>
<p>应用于flights数据：</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>flights_dt <span class="sc">%&gt;%</span> </span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">wday =</span> <span class="fu">wday</span>(dep_time, <span class="at">label =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> wday)) <span class="sc">+</span> <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="../img/unnamed-chunk-10-1.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 查看一小时内每分钟的平均出发延误</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>flights_dt <span class="sc">%&gt;%</span> </span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">minute =</span> <span class="fu">minute</span>(dep_time)) <span class="sc">%&gt;%</span> </span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(minute) <span class="sc">%&gt;%</span> </span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">avg_delay =</span> <span class="fu">mean</span>(arr_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(minute, avg_delay)) <span class="sc">+</span> </span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="../img/unnamed-chunk-10-2.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 我们发现，似乎在第20~30分钟和第50~60分钟内出发的航班的延误时间远远低于其他时间出发的航班</span></span></code></pre></div>
</div>
<div id="舍入" class="section level4">
<h4>舍入</h4>
<p>通过 floor_date()、 round_date() 和 ceiling_date()
函数将日期舍入到临近的一个时间单位。</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>flights_dt <span class="sc">%&gt;%</span> </span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(<span class="at">week =</span> <span class="fu">floor_date</span>(dep_time, <span class="st">&quot;week&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(week, n)) <span class="sc">+</span> <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="../img/unnamed-chunk-11-1.png" width="90%" style="display: block; margin: auto;" /></p>
</div>
<div id="修改成分" class="section level4">
<h4>修改成分</h4>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>(datetime <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(<span class="st">&quot;2016-07-08 12:34:56&quot;</span>))</span></code></pre></div>
<pre><code>#&gt; [1] &quot;2016-07-08 12:34:56 UTC&quot;</code></pre>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">year</span>(datetime) <span class="ot">&lt;-</span> <span class="dv">2020</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>datetime</span></code></pre></div>
<pre><code>#&gt; [1] &quot;2020-07-08 12:34:56 UTC&quot;</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">month</span>(datetime) <span class="ot">&lt;-</span> <span class="dv">01</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>datetime</span></code></pre></div>
<pre><code>#&gt; [1] &quot;2020-01-08 12:34:56 UTC&quot;</code></pre>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hour</span>(datetime) <span class="ot">&lt;-</span> <span class="fu">hour</span>(datetime) <span class="sc">+</span> <span class="dv">1</span></span></code></pre></div>
<p>除了原地修改，你还可以通过 update()
函数创建一个新日期时间，这样也可以同时设置多个成分。如果设置的值过大，那么可以自动向后滚动。</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">update</span>(datetime, <span class="at">year =</span> <span class="dv">2020</span>, <span class="at">month =</span> <span class="dv">2</span>, <span class="at">mday =</span> <span class="dv">2</span>, <span class="at">hour =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;2020-02-02 02:34:56 UTC&quot;</code></pre>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd</span>(<span class="st">&quot;2015-02-01&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">update</span>(<span class="at">mday =</span> <span class="dv">30</span>) <span class="co"># 2月没有30号，所以从1号开始往后推30天</span></span></code></pre></div>
<pre><code>#&gt; [1] &quot;2015-03-02&quot;</code></pre>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd</span>(<span class="st">&quot;2015-02-01&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">update</span>(<span class="at">hour =</span> <span class="dv">400</span>)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;2015-02-17 16:00:00 UTC&quot;</code></pre>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>flights_dt <span class="sc">%&gt;%</span> </span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">dep_hour =</span> <span class="fu">update</span>(dep_time, <span class="at">yday =</span> <span class="dv">1</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(dep_hour)) <span class="sc">+</span> </span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_freqpoly</span>(<span class="at">binwidth =</span> <span class="dv">300</span>)</span></code></pre></div>
<p><img src="../img/unnamed-chunk-13-1.png" width="90%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="时间间隔" class="section level3">
<h3>时间间隔</h3>
<div id="difftime-类型" class="section level4">
<h4>difftime 类型</h4>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>time_length <span class="ot">&lt;-</span> <span class="fu">today</span>() <span class="sc">-</span> <span class="fu">ymd</span>(<span class="dv">19791014</span>)</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>time_length</span></code></pre></div>
<pre><code>#&gt; Time difference of 15533 days</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(time_length)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;difftime&quot;</code></pre>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 基础包的difftime()函数</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="fu">difftime</span>(<span class="fu">today</span>(), <span class="fu">ymd</span>(<span class="dv">19791014</span>)) </span></code></pre></div>
<pre><code>#&gt; Time difference of 15533 days</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">difftime</span>(<span class="fu">today</span>(), <span class="fu">ymd</span>(<span class="dv">19791014</span>), <span class="at">units =</span> <span class="st">&#39;weeks&#39;</span>) </span></code></pre></div>
<pre><code>#&gt; Time difference of 2219 weeks</code></pre>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">difftime</span>(<span class="fu">today</span>(), <span class="fu">ymd</span>(<span class="dv">19791014</span>), <span class="at">units =</span> <span class="st">&#39;hours&#39;</span>) </span></code></pre></div>
<pre><code>#&gt; Time difference of 372792 hours</code></pre>
</div>
<div id="时期-duration-统一单位为秒" class="section level4">
<h4>时期 duration （<strong>统一单位为秒</strong>）</h4>
<p>用difftime数据类型构造duration</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Hadley多大了？</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="fu">as.duration</span>(<span class="fu">today</span>() <span class="sc">-</span> <span class="fu">ymd</span>(<span class="dv">19791014</span>))</span></code></pre></div>
<pre><code>#&gt; [1] &quot;1342051200s (~42.53 years)&quot;</code></pre>
<p>构造时期的系列函数（都有”d”前缀和”s”后缀）：</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dseconds</span>(<span class="dv">15</span>)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;15s&quot;</code></pre>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dminutes</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;600s (~10 minutes)&quot;</code></pre>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dhours</span>(<span class="fu">c</span>(<span class="dv">12</span>, <span class="dv">24</span>))</span></code></pre></div>
<pre><code>#&gt; [1] &quot;43200s (~12 hours)&quot; &quot;86400s (~1 days)&quot;</code></pre>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ddays</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;0s&quot;                &quot;86400s (~1 days)&quot;  &quot;172800s (~2 days)&quot;
#&gt; [4] &quot;259200s (~3 days)&quot; &quot;345600s (~4 days)&quot; &quot;432000s (~5 days)&quot;</code></pre>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dweeks</span>(<span class="dv">3</span>)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;1814400s (~3 weeks)&quot;</code></pre>
<div class="sourceCode" id="cb100"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dyears</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;31557600s (~1 years)&quot;</code></pre>
<p>可以对duration进行加法和乘法操作，时期也可以与日期型数据相加或相减，仍然得到日期型：</p>
<div class="sourceCode" id="cb102"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dyears</span>(<span class="dv">1</span>) <span class="sc">+</span> <span class="fu">dweeks</span>(<span class="dv">12</span>) <span class="sc">+</span> <span class="fu">dhours</span>(<span class="dv">15</span>)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;38869200s (~1.23 years)&quot;</code></pre>
<div class="sourceCode" id="cb104"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>tomorrow <span class="ot">&lt;-</span> <span class="fu">today</span>() <span class="sc">+</span> <span class="fu">ddays</span>(<span class="dv">1</span>)</span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(tomorrow)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Date&quot;</code></pre>
<div class="sourceCode" id="cb106"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>last_year <span class="ot">&lt;-</span> <span class="fu">today</span>() <span class="sc">-</span> <span class="fu">dyears</span>(<span class="dv">1</span>)</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(last_year)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;POSIXct&quot; &quot;POSIXt&quot;</code></pre>
</div>
<div id="阶段" class="section level4">
<h4><font color = 'red'>阶段</font></h4>
<p>lubridate
提供了阶段对象。阶段也是一种时间间隔，但它不以秒为单位；相反，它使用“人工”时间，比如日和月，这使得它们使用起来更加直观。</p>
<p>构造阶段的系列函数(只有”s”后缀)：</p>
<div class="sourceCode" id="cb108"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seconds</span>(<span class="dv">15</span>)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;15S&quot;</code></pre>
<div class="sourceCode" id="cb110"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">minutes</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;10M 0S&quot;</code></pre>
<div class="sourceCode" id="cb112"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hours</span>(<span class="fu">c</span>(<span class="dv">12</span>, <span class="dv">24</span>))</span></code></pre></div>
<pre><code>#&gt; [1] &quot;12H 0M 0S&quot; &quot;24H 0M 0S&quot;</code></pre>
<div class="sourceCode" id="cb114"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">days</span>(<span class="dv">7</span>)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;7d 0H 0M 0S&quot;</code></pre>
<div class="sourceCode" id="cb116"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">months</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;1m 0d 0H 0M 0S&quot; &quot;2m 0d 0H 0M 0S&quot; &quot;3m 0d 0H 0M 0S&quot; &quot;4m 0d 0H 0M 0S&quot;
#&gt; [5] &quot;5m 0d 0H 0M 0S&quot; &quot;6m 0d 0H 0M 0S&quot;</code></pre>
<div class="sourceCode" id="cb118"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">weeks</span>(<span class="dv">3</span>)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;21d 0H 0M 0S&quot;</code></pre>
<div class="sourceCode" id="cb120"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">years</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;1y 0m 0d 0H 0M 0S&quot;</code></pre>
<p>可以对阶段进行加法和乘法操作：</p>
<div class="sourceCode" id="cb122"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="sc">*</span> (<span class="fu">months</span>(<span class="dv">6</span>) <span class="sc">+</span> <span class="fu">days</span>(<span class="dv">1</span>))</span></code></pre></div>
<pre><code>#&gt; [1] &quot;60m 10d 0H 0M 0S&quot;</code></pre>
<div class="sourceCode" id="cb124"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">days</span>(<span class="dv">50</span>) <span class="sc">+</span> <span class="fu">hours</span>(<span class="dv">25</span>) <span class="sc">+</span> <span class="fu">minutes</span>(<span class="dv">2</span>)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;50d 25H 2M 0S&quot;</code></pre>
<p><strong><font color = "red">阶段可以和日期相加。与时期相比，阶段更容易符合我们的预期，因为它自动考虑了历法的种种规则</font></strong>：</p>
<div class="sourceCode" id="cb126"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="do">## 闰年问题</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd</span>(<span class="st">&quot;2016-01-01&quot;</span>) <span class="sc">+</span> <span class="fu">dyears</span>(<span class="dv">1</span>) <span class="co"># dyears()产生的时期只是简单地加了365天</span></span></code></pre></div>
<pre><code>#&gt; [1] &quot;2016-12-31 06:00:00 UTC&quot;</code></pre>
<div class="sourceCode" id="cb128"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd</span>(<span class="st">&quot;2016-01-01&quot;</span>) <span class="sc">+</span> <span class="fu">years</span>(<span class="dv">1</span>) <span class="co"># 考虑到2016年为闰年，years()产生的阶段加了366天</span></span></code></pre></div>
<pre><code>#&gt; [1] &quot;2017-01-01&quot;</code></pre>
</div>
<div id="区间" class="section level4">
<h4>区间</h4>
<p>阶段的一年years(1)到底是365天还是366天是不确定的，因此有了新的类：区间。区间是带有起点的时期，这使得你可以确切地知道它的长度。</p>
<div class="sourceCode" id="cb130"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>next_year <span class="ot">&lt;-</span> <span class="fu">today</span>() <span class="sc">+</span> <span class="fu">years</span>(<span class="dv">1</span>)</span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>next_year</span></code></pre></div>
<pre><code>#&gt; [1] &quot;2023-04-24&quot;</code></pre>
<div class="sourceCode" id="cb132"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>(<span class="fu">today</span>() <span class="sc">%--%</span> next_year) <span class="sc">/</span> <span class="fu">ddays</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>#&gt; [1] 365</code></pre>
</div>
<div id="总结" class="section level4">
<h4>总结</h4>
<p>如果只关心物理时间，那么就使用时期；如果还需要考虑人工时间，那么就使用阶段；如果需要找出人工时间范围内有多长的时间间隔，那么就使用区间。</p>
</div>
</div>
<div id="时区" class="section level3">
<h3>时区</h3>
<p>为了避免混淆， R 使用国际标准 IANA
时区。这些时区使用统一带有“/”的命名方式，一般的形式为“&lt; 大陆
&gt;/&lt; 城市
&gt;”（存在例外，因为不是所有城市都位于一块大陆）。如“America/New_York”、“Europe/Paris”和“Pacific/Auckland”。之所以使用城市名，是因为IANA
数据库必须记录十年间的时区，而在十年时间中，国家更名（或分裂）的情况非常多，但城市名是基本保持不变的。</p>
<p>Sys.timezone() 函数找出你的当前时区。OlsonNames()
函数来查看完整的时区名称列表。</p>
<div class="sourceCode" id="cb134"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Sys.timezone</span>()</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Asia/Taipei&quot;</code></pre>
<div class="sourceCode" id="cb136"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">OlsonNames</span>())</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Africa/Abidjan&quot;     &quot;Africa/Accra&quot;       &quot;Africa/Addis_Ababa&quot;
#&gt; [4] &quot;Africa/Algiers&quot;     &quot;Africa/Asmara&quot;      &quot;Africa/Asmera&quot;</code></pre>
<p>在 R 中，时区是日期时间型数据的一个属性，仅用于控制输出。例如，以下 3
个对象表示的是同一时刻：</p>
<div class="sourceCode" id="cb138"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>(x1 <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(<span class="st">&quot;2015-06-01 12:00:00&quot;</span>, </span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">tz =</span> <span class="st">&quot;America/New_York&quot;</span>));</span></code></pre></div>
<pre><code>#&gt; [1] &quot;2015-06-01 12:00:00 EDT&quot;</code></pre>
<div class="sourceCode" id="cb140"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a>(x2 <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(<span class="st">&quot;2015-06-01 18:00:00&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;Europe/Copenhagen&quot;</span>));</span></code></pre></div>
<pre><code>#&gt; [1] &quot;2015-06-01 18:00:00 CEST&quot;</code></pre>
<div class="sourceCode" id="cb142"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a>(x3 <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(<span class="st">&quot;2015-06-02 04:00:00&quot;</span>, </span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">tz =</span> <span class="st">&quot;Pacific/Auckland&quot;</span>));</span></code></pre></div>
<pre><code>#&gt; [1] &quot;2015-06-02 04:00:00 NZST&quot;</code></pre>
<div class="sourceCode" id="cb144"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a>x4 <span class="ot">&lt;-</span> <span class="fu">c</span>(x1, x2, x3)</span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a>x4</span></code></pre></div>
<pre><code>#&gt; [1] &quot;2015-06-01 12:00:00 EDT&quot; &quot;2015-06-01 12:00:00 EDT&quot;
#&gt; [3] &quot;2015-06-01 12:00:00 EDT&quot;</code></pre>
<div class="sourceCode" id="cb146"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a>x4a <span class="ot">&lt;-</span> <span class="fu">with_tz</span>(x4, <span class="at">tzone =</span> <span class="st">&quot;Asia/Taipei&quot;</span>)</span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a>x4a</span></code></pre></div>
<pre><code>#&gt; [1] &quot;2015-06-02 CST&quot; &quot;2015-06-02 CST&quot; &quot;2015-06-02 CST&quot;</code></pre>
<div class="sourceCode" id="cb148"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a>x4b <span class="ot">&lt;-</span> <span class="fu">force_tz</span>(x4, <span class="at">tzone =</span> <span class="st">&quot;Asia/Taipei&quot;</span>)</span>
<span id="cb148-2"><a href="#cb148-2" aria-hidden="true" tabindex="-1"></a>x4b</span></code></pre></div>
<pre><code>#&gt; [1] &quot;2015-06-01 12:00:00 CST&quot; &quot;2015-06-01 12:00:00 CST&quot;
#&gt; [3] &quot;2015-06-01 12:00:00 CST&quot;</code></pre>
</div>
</div>

<div id="rmd-source-code">LS0tDQp0aXRsZTogIkRhdGUiDQpzdWJ0aXRsZTogJycNCmF1dGhvcjogIkh1bW9vbiINCmRhdGU6ICJgciBTeXMuRGF0ZSgpYCINCm91dHB1dDoNCiAgaHRtbF9kb2N1bWVudDogDQogICAgY29kZV9kb3dubG9hZDogdHJ1ZQ0KICAgIGNzczogWyIuLi9jc3Mvc3R5bGUuY3NzIl0NCiAgICBmaWdfY2FwdGlvbjogeWVzDQogICAgdGhlbWU6IHVuaXRlZA0KICAgIGhpZ2hsaWdodDogaGFkZG9jaw0KICAgIG51bWJlcl9zZWN0aW9uczogbm8NCiAgICB0b2M6IHllcw0KICAgIHRvY19kZXB0aDogNA0KICAgIHRvY19mbG9hdDoNCiAgICAgIGNvbGxhcHNlZDogeWVzDQogICAgICBzbW9vdGhfc2Nyb2xsOiB5ZXMNCmRvY3VtZW50Y2xhc3M6IGN0ZXhhcnQNCmNsYXNzb3B0aW9uOiBoeXBlcnJlZiwNCi0tLQ0KDQpgYGB7ciBzZXR1cCwgaW5jbHVkZSA9IEZBTFNFfQ0Kc291cmNlKCIuLi9SbWFya2Rvd24tdGVtcGxhdGUvUm1hcmtkb3duX2NvbmZpZy5SIikNCg0KIyMgZ2xvYmFsIG9wdGlvbnMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCmtuaXRyOjpvcHRzX2NodW5rJHNldCgNCiAgd2lkdGggPSBjb25maWckd2lkdGgsDQogIGZpZy53aWR0aCA9IGNvbmZpZyRmaWcud2lkdGgsDQogIGZpZy5hc3AgPSBjb25maWckZmlnLmFzcCwNCiAgb3V0LndpZHRoID0gY29uZmlnJG91dC53aWR0aCwNCiAgZmlnLmFsaWduID0gY29uZmlnJGZpZy5hbGlnbiwNCiAgZmlnLnBhdGggPSBjb25maWckZmlnLnBhdGgsDQogIGZpZy5zaG93ID0gY29uZmlnJGZpZy5zaG93LA0KICB3YXJuID0gY29uZmlnJHdhcm4sDQogIHdhcm5pbmcgPSBjb25maWckd2FybmluZywNCiAgbWVzc2FnZSA9IGNvbmZpZyRtZXNzYWdlLA0KICBlY2hvID0gY29uZmlnJGVjaG8sIA0KICBldmFsID0gY29uZmlnJGV2YWwsIA0KICB0aWR5ID0gY29uZmlnJHRpZHksIA0KICBjb21tZW50ID0gY29uZmlnJGNvbW1lbnQsIA0KICBjb2xsYXBzZSA9IGNvbmZpZyRjb2xsYXBzZSwgDQogIGNhY2hlID0gY29uZmlnJGNhY2hlLA0KICBjYWNoZS5jb21tZW50cyA9IGNvbmZpZyRjYWNoZS5jb21tZW50cywNCiAgYXV0b2RlcCA9IGNvbmZpZyRhdXRvZGVwDQopDQoNCiMjIHVzZSBuZWNlc3NhcnkgcGFja2FnZXMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpsaWJyYXJ5KHRpZHl2ZXJzZSkNCmxpYnJhcnkoZGF0YS50YWJsZSkNCmxpYnJhcnkobWFncml0dHIpDQpsaWJyYXJ5KHBsb3RseSkNCmxpYnJhcnkoaHRtbHdpZGdldHMpDQpgYGANCg0KYGBge3IsIGVjaG89VFJVRX0NCmxpYnJhcnkobHVicmlkYXRlKQ0KbGlicmFyeShueWNmbGlnaHRzMTMpDQpsaWJyYXJ5KGhtcykNCmBgYA0KDQoNCg0KKipSIOS4reeahOaXpeacny3ml7bpl7Tlkozlm6DlrZDkuIDmoLfvvIzmmK/kuIDnp43nibnmrornmoTlkJHph4/jgIIqKg0KDQojIyDln7rnoYDljIUNCg0K6I635Y+W57O757uf5pel5pyf77yaYFN5cy5EYXRlKClgDQrojrflj5bns7vnu5/ml7bpl7TvvJpgU3lzLnRpbWUoKWANCg0K5qC85byP5YyW5pe26Ze0DQpgYGB7cn0NCihtID0gU3lzLkRhdGUoKSkNCmZvcm1hdChtLCBmb3JtYXQgPSAiJUIgJWQgJVkiKSAgIyDmlLnmiJDmnIjml6XlubTnmoTmoLzlvI8NCmZvcm1hdChtLCBmb3JtYXQgPSAiJUIgJWQgJVkgJUEiKSAgIyDliqDlhaXmmJ/mnJ/kv6Hmga8NCmZvcm1hdChtLCBmb3JtYXQgPSAiJUIiKSAgIyDlj6rmj5Dlj5blh7rmnIjku73kv6Hmga8NCmZvcm1hdChTeXMudGltZSgpLCBmb3JtYXQgPSAiJVkvJUIvJWEgJUg6JU06JVMiKSAgIyDmj5Dlj5bpg6jliIbml7bpl7Tkv6Hmga8NCmBgYA0KDQoNCiMjIOS9v+eUqCBsdWJyaWNhdGUg5YyF5aSE55CG5pel5pyf5ZKM5pe26Ze0DQoNCjxhIGhyZWY9Ii4uL3BkZi9jaGVhdHNoZWV0LWx1YnJpZGF0ZS5wZGYiPjxzdHJvbmc+bHVicmlkYXRlIGNoZWF0c2hlZXQucGRmPC9zdHJvbmc+PC9hPg0KDQo8b2JqZWN0IGRhdGE9Ii4uL3BkZi9jaGVhdHNoZWV0LWx1YnJpZGF0ZS5wZGYiIHR5cGU9ImFwcGxpY2F0aW9uL3BkZiIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSI+PC9vYmplY3Q+DQoNCg0KDQrooajnpLrml6XmnJ/miJbml7bpl7TnmoTmlbDmja7mnIkgMyDnp43nsbvlnovvvJogIA0KLSDml6XmnJ/vvJrlnKggdGliYmxlIOS4reaYvuekuuS4umA8ZGF0ZT5gICANCi0g5pe26Ze077ya5LiA5aSp5Lit55qE5p+Q5Liq5pe25Yi777yM5ZyoIHRpYmJsZSDkuK3mmL7npLrkuLpgPHRpbWU+YCAgDQotIOaXpeacn+aXtumXtO+8muWPr+S7peWUr+S4gOagh+ivhuafkOS4quaXtuWIu++8iOmAmuW4uOeyvuehruWIsOenku+8ieeahOaXpeacn+WKoOaXtumXtO+8jOWcqCB0aWJibGUg5Lit5pi+56S65Li6YDxkdHRtPmAgIA0KDQropoHmg7PlvpfliLDlvZPliY3ml6XmnJ/miJblvZPliY3ml6XmnJ/ml7bpl7TvvIzkvaDlj6/ku6Xkvb/nlKggYHRvZGF5KClgIOaIliBgbm93KClgIOWHveaVsO+8mg0KYGBge3J9DQp0b2RheSgpDQpub3coKQ0KYGBgDQoNCiMjIyDliJvlu7rml6XmnJ/miJbml7bpl7QNCg0KIyMjIyDpgJrov4flrZfnrKbkuLLliJvlu7oNCg0KYHltZCgpYCoq57O75YiX5Ye95pWwKirmmK/ku47lrZfnrKbkuLLliJvlu7rljZXkuKrml6XmnJ/ml7bpl7Tlr7nosaHnmoTmnIDnroDmlrnms5XvvIzkuZ/lj6/ku6XmjqXlj5fkuI3luKblvJXlj7fnmoTmlbDlgLzjgILlroPkuI3pnIDopoHmjIflrprlj4LmlbDvvIzkvr/og73oh6rliqjlpITnkIbmoIfngrnlkozmnIjku73jgIHmmJ/mnJ/nmoToi7Hmloflhajnp7DjgIHnvKnlhpnjgIINCmBgYHtyfQ0KeCA9IGMoMjAwOTAxMDEsICIyMDA5LTAxLTAyIiwgIjIwMDkgMDEgMDMiLCAiMjAwOS0xLTQiLCAiMjAwOS0xLDUiLCAiQ3JlYXRlZCBvbiAyMDA5IDEgNiIsICIyMDA5MDEgISEhIDA3IikNCnltZCh4KQ0KY2xhc3MoeCkNCm1keSgiSmFudWFyeSAzMXN0LCAyMDE3IikNCmRteSgiMzEtSmFuLTIwMTciKQ0KeW1kKDIwMTcwMTMxKQ0KeW1kX2htcygiMjAxNy0wMS0zMSAyMDoxMTo1OSIpICMg57K+56Gu5Yiw56eS55qE5pe26Ze05oizDQptZHlfaG0oIjAxLzMxLzIwMTcgMDg6MDEiKQ0KDQojIOmAmui/h+a3u+WKoOS4gOS4quaXtuWMuuWPguaVsO+8jOWPr+S7peWwhuS4gOS4quaXpeacn+W8uuWItui9rOaNouS4uuaXpeacn+aXtumXtO+8mg0KeW1kKDIwMTcwMTMxLCB0eiA9ICJVVEMiKQ0KYGBgDQoNCiMjIyMg6YCa6L+H5ZCE5Liq5oiQ5YiG5Yib5bu6DQoNCuS9v+eUqCBgbWFrZV9kYXRlKClgIOWHveaVsOWIm+W7uuaXpeacn++8jOS9v+eUqCBgbWFrZV9kYXRldGltZSgpYCDlh73mlbDliJvlu7rml6XmnJ/ml7bpl7QNCg0KYGBge3J9DQpmbGlnaHRzICU+JSANCiAgc2VsZWN0KHllYXIsIG1vbnRoLCBkYXksIGhvdXIsIG1pbnV0ZSkgJT4lIA0KICBtdXRhdGUoDQogICAgZGVwYXJ0dXJlID0gbWFrZV9kYXRldGltZSh5ZWFyLCBtb250aCwgZGF5LCBob3VyLCBtaW51dGUpDQogICkNCg0KIyMgZmxpZ2h0cyDmlbDmja7pm4bkuK3nmoTmn5Dkupvml7bpl7TmmK/lsIblsI/ml7blkozliIbpkp/mlbDnroDljZXlnLDmjpLliJflnKjkuIDotbfnmoTvvIzpnIDopoHlsIblhbbliIbnprsNCg0KIyDoh6rlrprkuYnliIbnprvlh73mlbANCm1ha2VfZGF0ZXRpbWVfMTAwIDwtIGZ1bmN0aW9uKHllYXIsIG1vbnRoLCBkYXksIHRpbWUpIHsNCiAgbWFrZV9kYXRldGltZSh5ZWFyLCBtb250aCwgZGF5LCB0aW1lICUvJSAxMDAsIHRpbWUgJSUgMTAwKQ0KfQ0KDQojIOW6lOeUqOWIhuemu+WHveaVsA0KZmxpZ2h0c19kdCA8LSBmbGlnaHRzICU+JSANCiAgZmlsdGVyKCFpcy5uYShkZXBfdGltZSksICFpcy5uYShhcnJfdGltZSkpICU+JSANCiAgbXV0YXRlKA0KICAgIGRlcF90aW1lID0gbWFrZV9kYXRldGltZV8xMDAoeWVhciwgbW9udGgsIGRheSwgZGVwX3RpbWUpLA0KICAgIGFycl90aW1lID0gbWFrZV9kYXRldGltZV8xMDAoeWVhciwgbW9udGgsIGRheSwgYXJyX3RpbWUpLA0KICAgIHNjaGVkX2RlcF90aW1lID0gbWFrZV9kYXRldGltZV8xMDAoeWVhciwgbW9udGgsIGRheSwgc2NoZWRfZGVwX3RpbWUpLA0KICAgIHNjaGVkX2Fycl90aW1lID0gbWFrZV9kYXRldGltZV8xMDAoeWVhciwgbW9udGgsIGRheSwgc2NoZWRfYXJyX3RpbWUpKSAlPiUgDQogIHNlbGVjdChvcmlnaW4sIGRlc3QsIGVuZHNfd2l0aCgiZGVsYXkiKSwgZW5kc193aXRoKCJ0aW1lIikpDQoNCmZsaWdodHNfZHQNCg0KIyDku6XlpKnkuLrlrr3luqbmsYfmgLvotbfpo57oiKrnj63nmoTpopHmlbANCmZsaWdodHNfZHQgJT4lIA0KICBnZ3Bsb3QoYWVzKGRlcF90aW1lKSkgKyANCiAgZ2VvbV9mcmVxcG9seShiaW53aWR0aCA9IDg2NDAwKSANCiMgODY0MDDnp5IgPSAx5aSp77yM55Sx5LqO5qiq6L205piv5pel5pyf5pe26Ze05Z6L5pWw5o2u77yMMeS7o+ihqDHnp5INCg0KIyDku6UxMOWIhumSn+S4uuWuveW6pu+8jOaxh+aAuzIwMTPlubQx5pyIMeaXpei1t+mjnuiIquePreeahOmikeaVsA0KZmxpZ2h0c19kdCAlPiUgDQogIGZpbHRlcihkZXBfdGltZSA8IHltZCgyMDEzMDEwMikpICU+JSANCiAgZ2dwbG90KGFlcyhkZXBfdGltZSkpICsgDQogIGdlb21fZnJlcXBvbHkoYmlud2lkdGggPSA2MDApICMgNjAw56eSID0gMTDliIbpkp8NCmBgYA0KDQojIyMjIOmAmui/h+WFtuS7luaVsOaNruexu+Wei+WIm+W7ug0KDQpgYXNfZGF0ZXRpbWUoKWAg5ZKMIGBhc19kYXRlKClgIOWcqOaXpeacn+WSjOaXpeacn+aXtumXtOWei+aVsOaNruS5i+mXtOWIh+aNog0KDQpgYGB7cn0NCmFzX2RhdGV0aW1lKHRvZGF5KCkpDQphc19kYXRlKG5vdygpKQ0KYGBgDQoNCg0KKirlj6/ku6XnlKjnm7jlr7nlgY/np7vph4/ooajnpLrml7bpl7TvvIzln7rlh4bkuLoxOTcw5bm0MeaciDHml6Uw5pe244CCKioNCmBgYHtyfQ0KYXNfZGF0ZSgzNjUgKiAxMCArIDIpICMg5Z+65YeG5pe26Ze05LmL5ZCOMTDlubTvvIzogIPomZHliLDkuKTkuKrpl7DlubTliqDkuKTlpKkNCmFzX2RhdGV0aW1lKDYwICogNjAgKiAxMCkgIyDln7rlh4bml7bpl7Tmu57lkI4xMOS4quWwj+aXtg0KYGBgDQoNCiMjIyDml6XmnJ/lkozml7bpl7TmiJDliIYNCg0KIyMjIyDojrflj5bmiJDliIYNCg0K5aaC5p6c5oOz6KaB5o+Q5Y+W5Ye65pel5pyf5Lit55qE54us56uL5oiQ5YiG77yM5Y+v5Lul5L2/55So5Lul5LiL6K6/6Zeu5Zmo5Ye95pWw77yaIHllYXIoKeOAgSBtb250aCgp44CBIG1kYXkoKe+8iOS4gOS4quaciOS4reeahOesrOWHoOWkqe+8ieOAgSB5ZGF5KCnvvIjkuIDlubTkuK3nmoTnrKzlh6DlpKnvvInjgIEgd2RheSgp77yI5LiA5ZGo5Lit55qE56ys5Yeg5aSp77yJ44CBIGhvdXIoKeOAgW1pbnV0ZSgpIOWSjCBzZWNvbmQoKe+8mg0KYGBge3J9DQpkYXRldGltZSA8LSB5bWRfaG1zKCIyMDE2LTA3LTA4IDEyOjM0OjU2IikNCnllYXIoZGF0ZXRpbWUpDQptb250aChkYXRldGltZSkNCm1kYXkoZGF0ZXRpbWUpDQp5ZGF5KGRhdGV0aW1lKQ0Kd2RheShkYXRldGltZSkNCmBgYA0KDQrlr7nkuo4gbW9udGgoKSDlkowgd2RheSgpIOWHveaVsO+8jOS9oOWPr+S7peiuvue9riBsYWJlbCA9IFRSVUUg5p2l6L+U5Zue5pyI5Lu95ZCN56ew5ZKM5pif5pyf5pWw55qE57yp5YaZ77yM6L+Y5Y+v5Lul6K6+572uIGFiYnIgPSBGQUxTRSDmnaXov5Tlm57lhajlkI3vvJoNCmBgYHtyfQ0KIyDms6jmhI/vvIxsdWJyaWNhdGXkuK3nmoTov5nkuKTkuKrlh73mlbDkvJrooqtkYXRhLnRhYmxl5YyF55qE5ZCM5ZCN5Ye95pWw6KaG55uWDQojIOWboOatpO+8jOeUqOWIsOi/meS4quWKn+iDveeahOaXtuWAme+8jOS4jeiDveeUqGRhdGEudGFibGXljIUNCm1vbnRoKGRhdGV0aW1lLCBsYWJlbCA9IFRSVUUpDQp3ZGF5KGRhdGV0aW1lLCBsYWJlbCA9IFRSVUUsIGFiYnIgPSBGQUxTRSkNCmBgYA0KDQrlupTnlKjkuo5mbGlnaHRz5pWw5o2u77yaDQpgYGB7cn0NCmZsaWdodHNfZHQgJT4lIA0KICBtdXRhdGUod2RheSA9IHdkYXkoZGVwX3RpbWUsIGxhYmVsID0gVFJVRSkpICU+JSANCiAgZ2dwbG90KGFlcyh4ID0gd2RheSkpICsgZ2VvbV9iYXIoKQ0KDQojIOafpeeci+S4gOWwj+aXtuWGheavj+WIhumSn+eahOW5s+Wdh+WHuuWPkeW7tuivrw0KZmxpZ2h0c19kdCAlPiUgDQogIG11dGF0ZShtaW51dGUgPSBtaW51dGUoZGVwX3RpbWUpKSAlPiUgDQogIGdyb3VwX2J5KG1pbnV0ZSkgJT4lIA0KICBzdW1tYXJpemUoYXZnX2RlbGF5ID0gbWVhbihhcnJfZGVsYXksIG5hLnJtID0gVFJVRSksIA0KICAgICAgICAgICAgbiA9IG4oKSkgJT4lIA0KICBnZ3Bsb3QoYWVzKG1pbnV0ZSwgYXZnX2RlbGF5KSkgKyANCiAgZ2VvbV9saW5lKCkNCiMg5oiR5Lus5Y+R546w77yM5Ly85LmO5Zyo56ysMjB+MzDliIbpkp/lkoznrKw1MH42MOWIhumSn+WGheWHuuWPkeeahOiIquePreeahOW7tuivr+aXtumXtOi/nOi/nOS9juS6juWFtuS7luaXtumXtOWHuuWPkeeahOiIquePrQ0KYGBgDQoNCiMjIyMg6IiN5YWlDQoNCumAmui/hyBmbG9vcl9kYXRlKCnjgIEgcm91bmRfZGF0ZSgpIOWSjCBjZWlsaW5nX2RhdGUoKSDlh73mlbDlsIbml6XmnJ/oiI3lhaXliLDkuLTov5HnmoTkuIDkuKrml7bpl7TljZXkvY3jgIINCg0KYGBge3J9DQpmbGlnaHRzX2R0ICU+JSANCiAgY291bnQod2VlayA9IGZsb29yX2RhdGUoZGVwX3RpbWUsICJ3ZWVrIikpICU+JSANCiAgZ2dwbG90KGFlcyh3ZWVrLCBuKSkgKyBnZW9tX2xpbmUoKQ0KYGBgDQoNCiMjIyMg5L+u5pS55oiQ5YiGDQpgYGB7cn0NCihkYXRldGltZSA8LSB5bWRfaG1zKCIyMDE2LTA3LTA4IDEyOjM0OjU2IikpDQp5ZWFyKGRhdGV0aW1lKSA8LSAyMDIwDQpkYXRldGltZQ0KbW9udGgoZGF0ZXRpbWUpIDwtIDAxDQpkYXRldGltZQ0KaG91cihkYXRldGltZSkgPC0gaG91cihkYXRldGltZSkgKyAxDQpgYGANCg0K6Zmk5LqG5Y6f5Zyw5L+u5pS577yM5L2g6L+Y5Y+v5Lul6YCa6L+HIHVwZGF0ZSgpIOWHveaVsOWIm+W7uuS4gOS4quaWsOaXpeacn+aXtumXtO+8jOi/meagt+S5n+WPr+S7peWQjOaXtuiuvue9ruWkmuS4quaIkOWIhuOAguWmguaenOiuvue9rueahOWAvOi/h+Wkp++8jOmCo+S5iOWPr+S7peiHquWKqOWQkeWQjua7muWKqOOAgg0KYGBge3J9DQp1cGRhdGUoZGF0ZXRpbWUsIHllYXIgPSAyMDIwLCBtb250aCA9IDIsIG1kYXkgPSAyLCBob3VyID0gMikNCg0KeW1kKCIyMDE1LTAyLTAxIikgJT4lIHVwZGF0ZShtZGF5ID0gMzApICMgMuaciOayoeaciTMw5Y+377yM5omA5Lul5LuOMeWPt+W8gOWni+W+gOWQjuaOqDMw5aSpDQp5bWQoIjIwMTUtMDItMDEiKSAlPiUgdXBkYXRlKGhvdXIgPSA0MDApDQoNCmZsaWdodHNfZHQgJT4lIA0KICBtdXRhdGUoZGVwX2hvdXIgPSB1cGRhdGUoZGVwX3RpbWUsIHlkYXkgPSAxKSkgJT4lIA0KICBnZ3Bsb3QoYWVzKGRlcF9ob3VyKSkgKyANCiAgZ2VvbV9mcmVxcG9seShiaW53aWR0aCA9IDMwMCkNCmBgYA0KDQojIyMg5pe26Ze06Ze06ZqUDQoNCiMjIyMgZGlmZnRpbWUg57G75Z6LDQoNCmBgYHtyfQ0KdGltZV9sZW5ndGggPC0gdG9kYXkoKSAtIHltZCgxOTc5MTAxNCkNCnRpbWVfbGVuZ3RoDQpjbGFzcyh0aW1lX2xlbmd0aCkNCg0KIyDln7rnoYDljIXnmoRkaWZmdGltZSgp5Ye95pWwDQpkaWZmdGltZSh0b2RheSgpLCB5bWQoMTk3OTEwMTQpKSANCmRpZmZ0aW1lKHRvZGF5KCksIHltZCgxOTc5MTAxNCksIHVuaXRzID0gJ3dlZWtzJykgDQpkaWZmdGltZSh0b2RheSgpLCB5bWQoMTk3OTEwMTQpLCB1bml0cyA9ICdob3VycycpIA0KYGBgDQoNCiMjIyMg5pe25pyfIGR1cmF0aW9uIO+8iCoq57uf5LiA5Y2V5L2N5Li656eSKirvvIkNCg0K55SoZGlmZnRpbWXmlbDmja7nsbvlnovmnoTpgKBkdXJhdGlvbg0KYGBge3J9DQojIEhhZGxleeWkmuWkp+S6hu+8nw0KYXMuZHVyYXRpb24odG9kYXkoKSAtIHltZCgxOTc5MTAxNCkpDQpgYGANCg0K5p6E6YCg5pe25pyf55qE57O75YiX5Ye95pWw77yI6YO95pyJImQi5YmN57yA5ZKMInMi5ZCO57yA77yJ77yaDQpgYGB7cn0NCmRzZWNvbmRzKDE1KQ0KZG1pbnV0ZXMoMTApDQpkaG91cnMoYygxMiwgMjQpKQ0KZGRheXMoMDo1KQ0KZHdlZWtzKDMpDQpkeWVhcnMoMSkNCmBgYA0KDQrlj6/ku6Xlr7lkdXJhdGlvbui/m+ihjOWKoOazleWSjOS5mOazleaTjeS9nO+8jOaXtuacn+S5n+WPr+S7peS4juaXpeacn+Wei+aVsOaNruebuOWKoOaIluebuOWHj++8jOS7jeeEtuW+l+WIsOaXpeacn+Wei++8mg0KYGBge3J9DQpkeWVhcnMoMSkgKyBkd2Vla3MoMTIpICsgZGhvdXJzKDE1KQ0KdG9tb3Jyb3cgPC0gdG9kYXkoKSArIGRkYXlzKDEpDQpjbGFzcyh0b21vcnJvdykNCmxhc3RfeWVhciA8LSB0b2RheSgpIC0gZHllYXJzKDEpDQpjbGFzcyhsYXN0X3llYXIpDQpgYGANCg0KIyMjIyA8Zm9udCBjb2xvciA9ICdyZWQnPumYtuautTwvZm9udD4NCg0KbHVicmlkYXRlIOaPkOS+m+S6humYtuauteWvueixoeOAgumYtuauteS5n+aYr+S4gOenjeaXtumXtOmXtOmalO+8jOS9huWug+S4jeS7peenkuS4uuWNleS9je+8m+ebuOWPje+8jOWug+S9v+eUqOKAnOS6uuW3peKAneaXtumXtO+8jOavlOWmguaXpeWSjOaciO+8jOi/meS9v+W+l+Wug+S7rOS9v+eUqOi1t+adpeabtOWKoOebtOinguOAgg0KDQrmnoTpgKDpmLbmrrXnmoTns7vliJflh73mlbAo5Y+q5pyJInMi5ZCO57yAKe+8mg0KYGBge3J9DQpzZWNvbmRzKDE1KQ0KbWludXRlcygxMCkNCmhvdXJzKGMoMTIsIDI0KSkNCmRheXMoNykNCm1vbnRocygxOjYpDQp3ZWVrcygzKQ0KeWVhcnMoMSkNCmBgYA0KDQrlj6/ku6Xlr7npmLbmrrXov5vooYzliqDms5XlkozkuZjms5Xmk43kvZzvvJoNCmBgYHtyfQ0KMTAgKiAobW9udGhzKDYpICsgZGF5cygxKSkNCmRheXMoNTApICsgaG91cnMoMjUpICsgbWludXRlcygyKQ0KYGBgDQoNCjxzdHJvbmc+PGZvbnQgY29sb3IgPSAicmVkIj7pmLbmrrXlj6/ku6Xlkozml6XmnJ/nm7jliqDjgILkuI7ml7bmnJ/nm7jmr5TvvIzpmLbmrrXmm7TlrrnmmJPnrKblkIjmiJHku6znmoTpooTmnJ/vvIzlm6DkuLrlroPoh6rliqjogIPomZHkuobljobms5XnmoTnp43np43op4TliJk8L2ZvbnQ+PC9zdHJvbmc+77yaDQpgYGB7cn0NCiMjIOmXsOW5tOmXrumimA0KeW1kKCIyMDE2LTAxLTAxIikgKyBkeWVhcnMoMSkgIyBkeWVhcnMoKeS6p+eUn+eahOaXtuacn+WPquaYr+eugOWNleWcsOWKoOS6hjM2NeWkqQ0KeW1kKCIyMDE2LTAxLTAxIikgKyB5ZWFycygxKSAjIOiAg+iZkeWIsDIwMTblubTkuLrpl7DlubTvvIx5ZWFycygp5Lqn55Sf55qE6Zi25q615Yqg5LqGMzY25aSpDQpgYGANCg0KIyMjIyDljLrpl7QNCg0K6Zi25q6155qE5LiA5bm0eWVhcnMoMSnliLDlupXmmK8zNjXlpKnov5jmmK8zNjblpKnmmK/kuI3noa7lrprnmoTvvIzlm6DmraTmnInkuobmlrDnmoTnsbvvvJrljLrpl7TjgILljLrpl7TmmK/luKbmnInotbfngrnnmoTml7bmnJ/vvIzov5nkvb/lvpfkvaDlj6/ku6Xnoa7liIflnLDnn6XpgZPlroPnmoTplb/luqbjgIINCg0KYGBge3J9DQpuZXh0X3llYXIgPC0gdG9kYXkoKSArIHllYXJzKDEpDQpuZXh0X3llYXINCih0b2RheSgpICUtLSUgbmV4dF95ZWFyKSAvIGRkYXlzKDEpDQpgYGANCg0KIyMjIyDmgLvnu5MNCg0K5aaC5p6c5Y+q5YWz5b+D54mp55CG5pe26Ze077yM6YKj5LmI5bCx5L2/55So5pe25pyf77yb5aaC5p6c6L+Y6ZyA6KaB6ICD6JmR5Lq65bel5pe26Ze077yM6YKj5LmI5bCx5L2/55So6Zi25q6177yb5aaC5p6c6ZyA6KaB5om+5Ye65Lq65bel5pe26Ze06IyD5Zu05YaF5pyJ5aSa6ZW/55qE5pe26Ze06Ze06ZqU77yM6YKj5LmI5bCx5L2/55So5Yy66Ze044CCDQoNCiMjIyDml7bljLoNCg0K5Li65LqG6YG/5YWN5re35reG77yMIFIg5L2/55So5Zu96ZmF5qCH5YeGIElBTkEg5pe25Yy644CC6L+Z5Lqb5pe25Yy65L2/55So57uf5LiA5bim5pyJ4oCcL+KAneeahOWRveWQjeaWueW8j++8jOS4gOiIrOeahOW9ouW8j+S4uuKAnDwg5aSn6ZmGID4vPCDln47luIIgPuKAne+8iOWtmOWcqOS+i+Wklu+8jOWboOS4uuS4jeaYr+aJgOacieWfjuW4gumDveS9jeS6juS4gOWdl+Wkp+mZhu+8ieOAguWmguKAnEFtZXJpY2EvTmV3X1lvcmvigJ3jgIHigJxFdXJvcGUvUGFyaXPigJ3lkozigJxQYWNpZmljL0F1Y2tsYW5k4oCd44CC5LmL5omA5Lul5L2/55So5Z+O5biC5ZCN77yM5piv5Zug5Li6SUFOQSDmlbDmja7lupPlv4XpobvorrDlvZXljYHlubTpl7TnmoTml7bljLrvvIzogIzlnKjljYHlubTml7bpl7TkuK3vvIzlm73lrrbmm7TlkI3vvIjmiJbliIboo4LvvInnmoTmg4XlhrXpnZ7luLjlpJrvvIzkvYbln47luILlkI3mmK/ln7rmnKzkv53mjIHkuI3lj5jnmoTjgIINCg0KU3lzLnRpbWV6b25lKCkg5Ye95pWw5om+5Ye65L2g55qE5b2T5YmN5pe25Yy644CCT2xzb25OYW1lcygpIOWHveaVsOadpeafpeeci+WujOaVtOeahOaXtuWMuuWQjeensOWIl+ihqOOAgg0KYGBge3J9DQpTeXMudGltZXpvbmUoKQ0KaGVhZChPbHNvbk5hbWVzKCkpDQpgYGANCg0K5ZyoIFIg5Lit77yM5pe25Yy65piv5pel5pyf5pe26Ze05Z6L5pWw5o2u55qE5LiA5Liq5bGe5oCn77yM5LuF55So5LqO5o6n5Yi26L6T5Ye644CC5L6L5aaC77yM5Lul5LiLIDMg5Liq5a+56LGh6KGo56S655qE5piv5ZCM5LiA5pe25Yi777yaDQpgYGB7cn0NCih4MSA8LSB5bWRfaG1zKCIyMDE1LTA2LTAxIDEyOjAwOjAwIiwgDQogICAgICAgICAgICAgICB0eiA9ICJBbWVyaWNhL05ld19Zb3JrIikpOw0KDQooeDIgPC0geW1kX2htcygiMjAxNS0wNi0wMSAxODowMDowMCIsIHR6ID0gIkV1cm9wZS9Db3BlbmhhZ2VuIikpOw0KDQooeDMgPC0geW1kX2htcygiMjAxNS0wNi0wMiAwNDowMDowMCIsIA0KICAgICAgICAgICAgICAgdHogPSAiUGFjaWZpYy9BdWNrbGFuZCIpKTsNCg0KeDQgPC0gYyh4MSwgeDIsIHgzKQ0KeDQNCng0YSA8LSB3aXRoX3R6KHg0LCB0em9uZSA9ICJBc2lhL1RhaXBlaSIpDQp4NGENCng0YiA8LSBmb3JjZV90eih4NCwgdHpvbmUgPSAiQXNpYS9UYWlwZWkiKQ0KeDRiDQpgYGANCg0K</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("0204-日期和时间.Rmd");
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
